\hypertarget{class_c_coins_view_cache}{}\section{C\+Coins\+View\+Cache Class Reference}
\label{class_c_coins_view_cache}\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}


{\ttfamily \#include $<$coins.\+h$>$}

Inheritance diagram for C\+Coins\+View\+Cache\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_c_coins_view_cache}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_coins_view_cache_a515a6f259af607fb3394b560d9c063c9}{C\+Coins\+View\+Cache}} (\mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} $\ast$base\+In)
\item 
\mbox{\hyperlink{class_c_coins_view_cache_a6148421cb7605fb434f6c8622f39430b}{$\sim$\+C\+Coins\+View\+Cache}} ()
\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_a97401da3be42b24b16fc202cdce34419}{Get\+Anchor\+At}} (const \mbox{\hyperlink{classuint256}{uint256}} \&rt, Z\+C\+Incremental\+Merkle\+Tree \&tree) const
\begin{DoxyCompactList}\small\item\em Retrieve the tree at a particular anchored root in the chain. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_a72dd0d15434f85d518f23a278e813a03}{Get\+Nullifier}} (const \mbox{\hyperlink{classuint256}{uint256}} \&nullifier) const
\begin{DoxyCompactList}\small\item\em Determine whether a nullifier is spent or not. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_a1b62444593fdb580bfa4bd6fab41fafa}{Get\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid, \mbox{\hyperlink{class_c_coins}{C\+Coins}} \&coins) const
\begin{DoxyCompactList}\small\item\em Retrieve the \mbox{\hyperlink{class_c_coins}{C\+Coins}} (unspent transaction outputs) for a given txid. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_aa8f0c55b6fc207d2188948a565125ab7}{Have\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid) const
\item 
\mbox{\hyperlink{classuint256}{uint256}} \mbox{\hyperlink{class_c_coins_view_cache_a1190c94a943c067d13211179ef06470b}{Get\+Best\+Block}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the block hash whose state this \mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} currently represents. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint256}{uint256}} \mbox{\hyperlink{class_c_coins_view_cache_a8f1e864bff1617bae243bd0c7b29d2ed}{Get\+Best\+Anchor}} () const
\begin{DoxyCompactList}\small\item\em Get the current \char`\"{}tip\char`\"{} or the latest anchored tree root in the chain. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_c_coins_view_cache_aa3f787f77b123f0fd340fbe4e458b4ad}{Set\+Best\+Block}} (const \mbox{\hyperlink{classuint256}{uint256}} \&\mbox{\hyperlink{class_c_coins_view_cache_a229dddddbc5501edc250209a2ce5df8b}{hash\+Block}})
\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_a3d661381b7eb233a8a13ea11ec5dac51}{Batch\+Write}} (\mbox{\hyperlink{coins_8h_a2886ba2fd0428bae777e1cbcabc02834}{C\+Coins\+Map}} \&map\+Coins, const \mbox{\hyperlink{classuint256}{uint256}} \&\mbox{\hyperlink{class_c_coins_view_cache_a229dddddbc5501edc250209a2ce5df8b}{hash\+Block}}, const \mbox{\hyperlink{classuint256}{uint256}} \&\mbox{\hyperlink{class_c_coins_view_cache_a72a4c55f52127b5e1b3e3a744a2b1cc3}{hash\+Anchor}}, \mbox{\hyperlink{coins_8h_a070827cc9d21a91b8f4f4f52a6f7c848}{C\+Anchors\+Map}} \&map\+Anchors, \mbox{\hyperlink{coins_8h_ab651cc287e9594190ef77d2fca2b14c7}{C\+Nullifiers\+Map}} \&map\+Nullifiers)
\item 
void \mbox{\hyperlink{class_c_coins_view_cache_a1e11b4aeaefd1a6ed6a98c8786465e95}{Push\+Anchor}} (const Z\+C\+Incremental\+Merkle\+Tree \&tree)
\item 
void \mbox{\hyperlink{class_c_coins_view_cache_a7e0b29874a39b165648fd3862035ca33}{Pop\+Anchor}} (const \mbox{\hyperlink{classuint256}{uint256}} \&rt)
\item 
void \mbox{\hyperlink{class_c_coins_view_cache_a820d28a0bb6c5cf4e6e41e2655d0e1fa}{Set\+Nullifier}} (const \mbox{\hyperlink{classuint256}{uint256}} \&nullifier, bool spent)
\item 
const \mbox{\hyperlink{class_c_coins}{C\+Coins}} $\ast$ \mbox{\hyperlink{class_c_coins_view_cache_a8e5341e8b01233949d6170dd4d1fd75d}{Access\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid) const
\item 
\mbox{\hyperlink{class_c_coins_modifier}{C\+Coins\+Modifier}} \mbox{\hyperlink{class_c_coins_view_cache_ab67c0d489873ed735c4fc52aa66f0830}{Modify\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid)
\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_ac9888d4feaa46666d03871cd7cd1c01d}{Flush}} ()
\item 
unsigned int \mbox{\hyperlink{class_c_coins_view_cache_a937e30d96fd43e403c862b193cf5b942}{Get\+Cache\+Size}} () const
\begin{DoxyCompactList}\small\item\em Calculate the size of the cache (in number of transactions) \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{class_c_coins_view_cache_adc01927480b99814280a4388e738d8b9}{Dynamic\+Memory\+Usage}} () const
\begin{DoxyCompactList}\small\item\em Calculate the size of the cache (in bytes) \end{DoxyCompactList}\item 
\mbox{\hyperlink{amount_8h_a4eaf3a5239714d8c45b851527f7cb564}{C\+Amount}} \mbox{\hyperlink{class_c_coins_view_cache_a1a8cd6069fba96939ffcb1bd36ffb921}{Get\+Value\+In}} (const C\+Transaction \&tx) const
\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_a5b1abd71c95dc7be2523b9c28839ec29}{Have\+Inputs}} (const C\+Transaction \&tx) const
\begin{DoxyCompactList}\small\item\em Check whether all prevouts of the transaction are present in the U\+T\+XO set represented by this view. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_ae4d444ac347873a2c372ac86ca676d50}{Have\+Join\+Split\+Requirements}} (const C\+Transaction \&tx) const
\begin{DoxyCompactList}\small\item\em Check whether all joinsplit requirements (anchors/nullifiers) are satisfied. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_c_coins_view_cache_a111d5a94709eaccd57bafe6ab1d938af}{Get\+Priority}} (const C\+Transaction \&tx, int n\+Height) const
\begin{DoxyCompactList}\small\item\em Return priority of tx at height n\+Height. \end{DoxyCompactList}\item 
const C\+Tx\+Out \& \mbox{\hyperlink{class_c_coins_view_cache_a54a0de51586fa92d83cfa321fb8936c5}{Get\+Output\+For}} (const C\+Tx\+In \&input) const
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_c_coins_view_cache_a363e27234d36bb0fc533d60cd64d1bc3}{has\+Modifier}}
\item 
\mbox{\hyperlink{classuint256}{uint256}} \mbox{\hyperlink{class_c_coins_view_cache_a229dddddbc5501edc250209a2ce5df8b}{hash\+Block}}
\item 
\mbox{\hyperlink{coins_8h_a2886ba2fd0428bae777e1cbcabc02834}{C\+Coins\+Map}} \mbox{\hyperlink{class_c_coins_view_cache_af33cc2c6d38af65ac833d4d13c8e3764}{cache\+Coins}}
\item 
\mbox{\hyperlink{classuint256}{uint256}} \mbox{\hyperlink{class_c_coins_view_cache_a72a4c55f52127b5e1b3e3a744a2b1cc3}{hash\+Anchor}}
\item 
\mbox{\hyperlink{coins_8h_a070827cc9d21a91b8f4f4f52a6f7c848}{C\+Anchors\+Map}} \mbox{\hyperlink{class_c_coins_view_cache_a45c975af9db57816d1e526af3f503a47}{cache\+Anchors}}
\item 
\mbox{\hyperlink{coins_8h_ab651cc287e9594190ef77d2fca2b14c7}{C\+Nullifiers\+Map}} \mbox{\hyperlink{class_c_coins_view_cache_a0d428d1dc56a4a069af0abe8956c9ed4}{cache\+Nullifiers}}
\item 
size\+\_\+t \mbox{\hyperlink{class_c_coins_view_cache_a980e94152512be71f2aa51e600132ef9}{cached\+Coins\+Usage}}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
C\+Coins\+Map\+::iterator \mbox{\hyperlink{class_c_coins_view_cache_a7d385628b7d821d2d5b6c5aaf1734616}{Fetch\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid)
\item 
C\+Coins\+Map\+::const\+\_\+iterator \mbox{\hyperlink{class_c_coins_view_cache_a964e8bc4a5f8131eab430d356a25fc6d}{Fetch\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid) const
\item 
\mbox{\hyperlink{class_c_coins_view_cache_ae984d8a03ff13d03abf11874c227eaf1}{C\+Coins\+View\+Cache}} (const \mbox{\hyperlink{class_c_coins_view_cache}{C\+Coins\+View\+Cache}} \&)
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_c_coins_view_cache_ae6ce8219acb79950bced74cb108acacf}{C\+Coins\+Modifier}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} that adds a memory cache for transactions to another \mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_c_coins_view_cache_a515a6f259af607fb3394b560d9c063c9}\label{class_c_coins_view_cache_a515a6f259af607fb3394b560d9c063c9}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{C\+Coins\+View\+Cache()}{CCoinsViewCache()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily C\+Coins\+View\+Cache\+::\+C\+Coins\+View\+Cache (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} $\ast$}]{base\+In }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_c_coins_view_cache_a6148421cb7605fb434f6c8622f39430b}\label{class_c_coins_view_cache_a6148421cb7605fb434f6c8622f39430b}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!````~C\+Coins\+View\+Cache@{$\sim$\+C\+Coins\+View\+Cache}}
\index{````~C\+Coins\+View\+Cache@{$\sim$\+C\+Coins\+View\+Cache}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{$\sim$\+C\+Coins\+View\+Cache()}{~CCoinsViewCache()}}
{\footnotesize\ttfamily C\+Coins\+View\+Cache\+::$\sim$\+C\+Coins\+View\+Cache (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_c_coins_view_cache_ae984d8a03ff13d03abf11874c227eaf1}\label{class_c_coins_view_cache_ae984d8a03ff13d03abf11874c227eaf1}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{C\+Coins\+View\+Cache()}{CCoinsViewCache()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily C\+Coins\+View\+Cache\+::\+C\+Coins\+View\+Cache (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_c_coins_view_cache}{C\+Coins\+View\+Cache}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

By making the copy constructor private, we prevent accidentally using it when one intends to create a cache on top of a base cache. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_c_coins_view_cache_a8e5341e8b01233949d6170dd4d1fd75d}\label{class_c_coins_view_cache_a8e5341e8b01233949d6170dd4d1fd75d}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Access\+Coins@{Access\+Coins}}
\index{Access\+Coins@{Access\+Coins}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Access\+Coins()}{AccessCoins()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_c_coins}{C\+Coins}} $\ast$ C\+Coins\+View\+Cache\+::\+Access\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid }\end{DoxyParamCaption}) const}

Return a pointer to \mbox{\hyperlink{class_c_coins}{C\+Coins}} in the cache, or N\+U\+LL if not found. This is more efficient than Get\+Coins. Modifications to other cache entries are allowed while accessing the returned pointer. \mbox{\Hypertarget{class_c_coins_view_cache_a3d661381b7eb233a8a13ea11ec5dac51}\label{class_c_coins_view_cache_a3d661381b7eb233a8a13ea11ec5dac51}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Batch\+Write@{Batch\+Write}}
\index{Batch\+Write@{Batch\+Write}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Batch\+Write()}{BatchWrite()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Batch\+Write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{coins_8h_a2886ba2fd0428bae777e1cbcabc02834}{C\+Coins\+Map}} \&}]{map\+Coins,  }\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{hash\+Block,  }\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{hash\+Anchor,  }\item[{\mbox{\hyperlink{coins_8h_a070827cc9d21a91b8f4f4f52a6f7c848}{C\+Anchors\+Map}} \&}]{map\+Anchors,  }\item[{\mbox{\hyperlink{coins_8h_ab651cc287e9594190ef77d2fca2b14c7}{C\+Nullifiers\+Map}} \&}]{map\+Nullifiers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Do a bulk modification (multiple \mbox{\hyperlink{class_c_coins}{C\+Coins}} changes + Best\+Block change). The passed map\+Coins can be modified. 

Reimplemented from \mbox{\hyperlink{class_c_coins_view_backed_ae0f10af7d1cd7706f57628c38426c75c}{C\+Coins\+View\+Backed}}.

\mbox{\Hypertarget{class_c_coins_view_cache_adc01927480b99814280a4388e738d8b9}\label{class_c_coins_view_cache_adc01927480b99814280a4388e738d8b9}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Dynamic\+Memory\+Usage@{Dynamic\+Memory\+Usage}}
\index{Dynamic\+Memory\+Usage@{Dynamic\+Memory\+Usage}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Dynamic\+Memory\+Usage()}{DynamicMemoryUsage()}}
{\footnotesize\ttfamily size\+\_\+t C\+Coins\+View\+Cache\+::\+Dynamic\+Memory\+Usage (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Calculate the size of the cache (in bytes) 

\mbox{\Hypertarget{class_c_coins_view_cache_a7d385628b7d821d2d5b6c5aaf1734616}\label{class_c_coins_view_cache_a7d385628b7d821d2d5b6c5aaf1734616}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Fetch\+Coins@{Fetch\+Coins}}
\index{Fetch\+Coins@{Fetch\+Coins}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Fetch\+Coins()}{FetchCoins()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily C\+Coins\+Map\+::iterator C\+Coins\+View\+Cache\+::\+Fetch\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_c_coins_view_cache_a964e8bc4a5f8131eab430d356a25fc6d}\label{class_c_coins_view_cache_a964e8bc4a5f8131eab430d356a25fc6d}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Fetch\+Coins@{Fetch\+Coins}}
\index{Fetch\+Coins@{Fetch\+Coins}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Fetch\+Coins()}{FetchCoins()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily C\+Coins\+Map\+::const\+\_\+iterator C\+Coins\+View\+Cache\+::\+Fetch\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_c_coins_view_cache_ac9888d4feaa46666d03871cd7cd1c01d}\label{class_c_coins_view_cache_ac9888d4feaa46666d03871cd7cd1c01d}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Flush@{Flush}}
\index{Flush@{Flush}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Flush()}{Flush()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Flush (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Push the modifications applied to this cache to its base. Failure to call this method before destruction will cause the changes to be forgotten. If false is returned, the state of this cache (and its backing view) will be undefined. \mbox{\Hypertarget{class_c_coins_view_cache_a97401da3be42b24b16fc202cdce34419}\label{class_c_coins_view_cache_a97401da3be42b24b16fc202cdce34419}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Anchor\+At@{Get\+Anchor\+At}}
\index{Get\+Anchor\+At@{Get\+Anchor\+At}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Anchor\+At()}{GetAnchorAt()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Get\+Anchor\+At (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{rt,  }\item[{Z\+C\+Incremental\+Merkle\+Tree \&}]{tree }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieve the tree at a particular anchored root in the chain. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_backed_a85e573aed0a7e713dc5d6a0478649435}{C\+Coins\+View\+Backed}}.

\mbox{\Hypertarget{class_c_coins_view_cache_a8f1e864bff1617bae243bd0c7b29d2ed}\label{class_c_coins_view_cache_a8f1e864bff1617bae243bd0c7b29d2ed}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Best\+Anchor@{Get\+Best\+Anchor}}
\index{Get\+Best\+Anchor@{Get\+Best\+Anchor}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Best\+Anchor()}{GetBestAnchor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint256}{uint256}} C\+Coins\+View\+Cache\+::\+Get\+Best\+Anchor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Get the current \char`\"{}tip\char`\"{} or the latest anchored tree root in the chain. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_backed_a2bac0f246916a004e9773f03c37f2c82}{C\+Coins\+View\+Backed}}.

\mbox{\Hypertarget{class_c_coins_view_cache_a1190c94a943c067d13211179ef06470b}\label{class_c_coins_view_cache_a1190c94a943c067d13211179ef06470b}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Best\+Block@{Get\+Best\+Block}}
\index{Get\+Best\+Block@{Get\+Best\+Block}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Best\+Block()}{GetBestBlock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint256}{uint256}} C\+Coins\+View\+Cache\+::\+Get\+Best\+Block (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieve the block hash whose state this \mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} currently represents. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_backed_a39bca41ae922d0ce7f40e8aeab289280}{C\+Coins\+View\+Backed}}.

\mbox{\Hypertarget{class_c_coins_view_cache_a937e30d96fd43e403c862b193cf5b942}\label{class_c_coins_view_cache_a937e30d96fd43e403c862b193cf5b942}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Cache\+Size@{Get\+Cache\+Size}}
\index{Get\+Cache\+Size@{Get\+Cache\+Size}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Cache\+Size()}{GetCacheSize()}}
{\footnotesize\ttfamily unsigned int C\+Coins\+View\+Cache\+::\+Get\+Cache\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Calculate the size of the cache (in number of transactions) 

\mbox{\Hypertarget{class_c_coins_view_cache_a1b62444593fdb580bfa4bd6fab41fafa}\label{class_c_coins_view_cache_a1b62444593fdb580bfa4bd6fab41fafa}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Coins@{Get\+Coins}}
\index{Get\+Coins@{Get\+Coins}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Coins()}{GetCoins()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Get\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid,  }\item[{\mbox{\hyperlink{class_c_coins}{C\+Coins}} \&}]{coins }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieve the \mbox{\hyperlink{class_c_coins}{C\+Coins}} (unspent transaction outputs) for a given txid. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_backed_a456f9e85817556329a959c120998df5b}{C\+Coins\+View\+Backed}}.

\mbox{\Hypertarget{class_c_coins_view_cache_a72dd0d15434f85d518f23a278e813a03}\label{class_c_coins_view_cache_a72dd0d15434f85d518f23a278e813a03}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Nullifier@{Get\+Nullifier}}
\index{Get\+Nullifier@{Get\+Nullifier}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Nullifier()}{GetNullifier()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Get\+Nullifier (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{nullifier }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Determine whether a nullifier is spent or not. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_backed_afbfee79b18b475d67cd757a7dc4f5955}{C\+Coins\+View\+Backed}}.

\mbox{\Hypertarget{class_c_coins_view_cache_a54a0de51586fa92d83cfa321fb8936c5}\label{class_c_coins_view_cache_a54a0de51586fa92d83cfa321fb8936c5}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Output\+For@{Get\+Output\+For}}
\index{Get\+Output\+For@{Get\+Output\+For}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Output\+For()}{GetOutputFor()}}
{\footnotesize\ttfamily const C\+Tx\+Out \& C\+Coins\+View\+Cache\+::\+Get\+Output\+For (\begin{DoxyParamCaption}\item[{const C\+Tx\+In \&}]{input }\end{DoxyParamCaption}) const}

\mbox{\Hypertarget{class_c_coins_view_cache_a111d5a94709eaccd57bafe6ab1d938af}\label{class_c_coins_view_cache_a111d5a94709eaccd57bafe6ab1d938af}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Priority@{Get\+Priority}}
\index{Get\+Priority@{Get\+Priority}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Priority()}{GetPriority()}}
{\footnotesize\ttfamily double C\+Coins\+View\+Cache\+::\+Get\+Priority (\begin{DoxyParamCaption}\item[{const C\+Transaction \&}]{tx,  }\item[{int}]{n\+Height }\end{DoxyParamCaption}) const}



Return priority of tx at height n\+Height. 

\mbox{\Hypertarget{class_c_coins_view_cache_a1a8cd6069fba96939ffcb1bd36ffb921}\label{class_c_coins_view_cache_a1a8cd6069fba96939ffcb1bd36ffb921}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Get\+Value\+In@{Get\+Value\+In}}
\index{Get\+Value\+In@{Get\+Value\+In}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Get\+Value\+In()}{GetValueIn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{amount_8h_a4eaf3a5239714d8c45b851527f7cb564}{C\+Amount}} C\+Coins\+View\+Cache\+::\+Get\+Value\+In (\begin{DoxyParamCaption}\item[{const C\+Transaction \&}]{tx }\end{DoxyParamCaption}) const}

Amount of bitcoins coming in to a transaction Note that lightweight clients may not know anything besides the hash of previous transactions, so may not be able to calculate this.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em tx} & transaction for which we are checking input total \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Sum of value of all inputs (script\+Sigs) 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_coins_view_cache_aa8f0c55b6fc207d2188948a565125ab7}\label{class_c_coins_view_cache_aa8f0c55b6fc207d2188948a565125ab7}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Have\+Coins@{Have\+Coins}}
\index{Have\+Coins@{Have\+Coins}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Have\+Coins()}{HaveCoins()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Have\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Just check whether we have data for a given txid. This may (but cannot always) return true for fully spent transactions 

Reimplemented from \mbox{\hyperlink{class_c_coins_view_backed_ad49041658bdec807d556e080476e6543}{C\+Coins\+View\+Backed}}.

\mbox{\Hypertarget{class_c_coins_view_cache_a5b1abd71c95dc7be2523b9c28839ec29}\label{class_c_coins_view_cache_a5b1abd71c95dc7be2523b9c28839ec29}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Have\+Inputs@{Have\+Inputs}}
\index{Have\+Inputs@{Have\+Inputs}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Have\+Inputs()}{HaveInputs()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Have\+Inputs (\begin{DoxyParamCaption}\item[{const C\+Transaction \&}]{tx }\end{DoxyParamCaption}) const}



Check whether all prevouts of the transaction are present in the U\+T\+XO set represented by this view. 

\mbox{\Hypertarget{class_c_coins_view_cache_ae4d444ac347873a2c372ac86ca676d50}\label{class_c_coins_view_cache_ae4d444ac347873a2c372ac86ca676d50}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Have\+Join\+Split\+Requirements@{Have\+Join\+Split\+Requirements}}
\index{Have\+Join\+Split\+Requirements@{Have\+Join\+Split\+Requirements}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Have\+Join\+Split\+Requirements()}{HaveJoinSplitRequirements()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::\+Have\+Join\+Split\+Requirements (\begin{DoxyParamCaption}\item[{const C\+Transaction \&}]{tx }\end{DoxyParamCaption}) const}



Check whether all joinsplit requirements (anchors/nullifiers) are satisfied. 

\mbox{\Hypertarget{class_c_coins_view_cache_ab67c0d489873ed735c4fc52aa66f0830}\label{class_c_coins_view_cache_ab67c0d489873ed735c4fc52aa66f0830}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Modify\+Coins@{Modify\+Coins}}
\index{Modify\+Coins@{Modify\+Coins}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Modify\+Coins()}{ModifyCoins()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_coins_modifier}{C\+Coins\+Modifier}} C\+Coins\+View\+Cache\+::\+Modify\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid }\end{DoxyParamCaption})}

Return a modifiable reference to a \mbox{\hyperlink{class_c_coins}{C\+Coins}}. If no entry with the given txid exists, a new one is created. Simultaneous modifications are not allowed. \mbox{\Hypertarget{class_c_coins_view_cache_a7e0b29874a39b165648fd3862035ca33}\label{class_c_coins_view_cache_a7e0b29874a39b165648fd3862035ca33}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Pop\+Anchor@{Pop\+Anchor}}
\index{Pop\+Anchor@{Pop\+Anchor}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Pop\+Anchor()}{PopAnchor()}}
{\footnotesize\ttfamily void C\+Coins\+View\+Cache\+::\+Pop\+Anchor (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{rt }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_c_coins_view_cache_a1e11b4aeaefd1a6ed6a98c8786465e95}\label{class_c_coins_view_cache_a1e11b4aeaefd1a6ed6a98c8786465e95}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Push\+Anchor@{Push\+Anchor}}
\index{Push\+Anchor@{Push\+Anchor}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Push\+Anchor()}{PushAnchor()}}
{\footnotesize\ttfamily void C\+Coins\+View\+Cache\+::\+Push\+Anchor (\begin{DoxyParamCaption}\item[{const Z\+C\+Incremental\+Merkle\+Tree \&}]{tree }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_c_coins_view_cache_aa3f787f77b123f0fd340fbe4e458b4ad}\label{class_c_coins_view_cache_aa3f787f77b123f0fd340fbe4e458b4ad}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Set\+Best\+Block@{Set\+Best\+Block}}
\index{Set\+Best\+Block@{Set\+Best\+Block}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Set\+Best\+Block()}{SetBestBlock()}}
{\footnotesize\ttfamily void C\+Coins\+View\+Cache\+::\+Set\+Best\+Block (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{hash\+Block }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_c_coins_view_cache_a820d28a0bb6c5cf4e6e41e2655d0e1fa}\label{class_c_coins_view_cache_a820d28a0bb6c5cf4e6e41e2655d0e1fa}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!Set\+Nullifier@{Set\+Nullifier}}
\index{Set\+Nullifier@{Set\+Nullifier}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{Set\+Nullifier()}{SetNullifier()}}
{\footnotesize\ttfamily void C\+Coins\+View\+Cache\+::\+Set\+Nullifier (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{nullifier,  }\item[{bool}]{spent }\end{DoxyParamCaption})}



\subsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_c_coins_view_cache_ae6ce8219acb79950bced74cb108acacf}\label{class_c_coins_view_cache_ae6ce8219acb79950bced74cb108acacf}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!C\+Coins\+Modifier@{C\+Coins\+Modifier}}
\index{C\+Coins\+Modifier@{C\+Coins\+Modifier}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{C\+Coins\+Modifier}{CCoinsModifier}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_c_coins_modifier}{C\+Coins\+Modifier}}\hspace{0.3cm}{\ttfamily [friend]}}



\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_c_coins_view_cache_a45c975af9db57816d1e526af3f503a47}\label{class_c_coins_view_cache_a45c975af9db57816d1e526af3f503a47}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!cache\+Anchors@{cache\+Anchors}}
\index{cache\+Anchors@{cache\+Anchors}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{cache\+Anchors}{cacheAnchors}}
{\footnotesize\ttfamily \mbox{\hyperlink{coins_8h_a070827cc9d21a91b8f4f4f52a6f7c848}{C\+Anchors\+Map}} C\+Coins\+View\+Cache\+::cache\+Anchors\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_coins_view_cache_af33cc2c6d38af65ac833d4d13c8e3764}\label{class_c_coins_view_cache_af33cc2c6d38af65ac833d4d13c8e3764}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!cache\+Coins@{cache\+Coins}}
\index{cache\+Coins@{cache\+Coins}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{cache\+Coins}{cacheCoins}}
{\footnotesize\ttfamily \mbox{\hyperlink{coins_8h_a2886ba2fd0428bae777e1cbcabc02834}{C\+Coins\+Map}} C\+Coins\+View\+Cache\+::cache\+Coins\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_coins_view_cache_a980e94152512be71f2aa51e600132ef9}\label{class_c_coins_view_cache_a980e94152512be71f2aa51e600132ef9}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!cached\+Coins\+Usage@{cached\+Coins\+Usage}}
\index{cached\+Coins\+Usage@{cached\+Coins\+Usage}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{cached\+Coins\+Usage}{cachedCoinsUsage}}
{\footnotesize\ttfamily size\+\_\+t C\+Coins\+View\+Cache\+::cached\+Coins\+Usage\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_coins_view_cache_a0d428d1dc56a4a069af0abe8956c9ed4}\label{class_c_coins_view_cache_a0d428d1dc56a4a069af0abe8956c9ed4}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!cache\+Nullifiers@{cache\+Nullifiers}}
\index{cache\+Nullifiers@{cache\+Nullifiers}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{cache\+Nullifiers}{cacheNullifiers}}
{\footnotesize\ttfamily \mbox{\hyperlink{coins_8h_ab651cc287e9594190ef77d2fca2b14c7}{C\+Nullifiers\+Map}} C\+Coins\+View\+Cache\+::cache\+Nullifiers\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_coins_view_cache_a72a4c55f52127b5e1b3e3a744a2b1cc3}\label{class_c_coins_view_cache_a72a4c55f52127b5e1b3e3a744a2b1cc3}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!hash\+Anchor@{hash\+Anchor}}
\index{hash\+Anchor@{hash\+Anchor}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{hash\+Anchor}{hashAnchor}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint256}{uint256}} C\+Coins\+View\+Cache\+::hash\+Anchor\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_coins_view_cache_a229dddddbc5501edc250209a2ce5df8b}\label{class_c_coins_view_cache_a229dddddbc5501edc250209a2ce5df8b}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!hash\+Block@{hash\+Block}}
\index{hash\+Block@{hash\+Block}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{hash\+Block}{hashBlock}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint256}{uint256}} C\+Coins\+View\+Cache\+::hash\+Block\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}

Make mutable so that we can \char`\"{}fill the cache\char`\"{} even from Get-\/methods declared as \char`\"{}const\char`\"{}. \mbox{\Hypertarget{class_c_coins_view_cache_a363e27234d36bb0fc533d60cd64d1bc3}\label{class_c_coins_view_cache_a363e27234d36bb0fc533d60cd64d1bc3}} 
\index{C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}!has\+Modifier@{has\+Modifier}}
\index{has\+Modifier@{has\+Modifier}!C\+Coins\+View\+Cache@{C\+Coins\+View\+Cache}}
\subsubsection{\texorpdfstring{has\+Modifier}{hasModifier}}
{\footnotesize\ttfamily bool C\+Coins\+View\+Cache\+::has\+Modifier\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/christopherarguello/\+Developer/anon/src/\mbox{\hyperlink{coins_8h}{coins.\+h}}\item 
/\+Users/christopherarguello/\+Developer/anon/src/\mbox{\hyperlink{coins_8cpp}{coins.\+cpp}}\end{DoxyCompactItemize}
