\hypertarget{class_c_coins_view_d_b}{}\section{C\+Coins\+View\+DB Class Reference}
\label{class_c_coins_view_d_b}\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}


{\ttfamily \#include $<$txdb.\+h$>$}

Inheritance diagram for C\+Coins\+View\+DB\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_c_coins_view_d_b}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_coins_view_d_b_a209841b241febcccb2ec584b886ad374}{C\+Coins\+View\+DB}} (size\+\_\+t n\+Cache\+Size, bool f\+Memory=false, bool f\+Wipe=false)
\item 
bool \mbox{\hyperlink{class_c_coins_view_d_b_aeaab3bc4b363dbbc9d9a77930209e299}{Get\+Anchor\+At}} (const \mbox{\hyperlink{classuint256}{uint256}} \&rt, Z\+C\+Incremental\+Merkle\+Tree \&tree) const
\begin{DoxyCompactList}\small\item\em Retrieve the tree at a particular anchored root in the chain. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_d_b_ac9724829164f5a06b6d7c610da03a730}{Get\+Nullifier}} (const \mbox{\hyperlink{classuint256}{uint256}} \&nf) const
\begin{DoxyCompactList}\small\item\em Determine whether a nullifier is spent or not. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_d_b_ac35a80d1115ec697101d382e71db5b31}{Get\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid, \mbox{\hyperlink{class_c_coins}{C\+Coins}} \&coins) const
\begin{DoxyCompactList}\small\item\em Retrieve the \mbox{\hyperlink{class_c_coins}{C\+Coins}} (unspent transaction outputs) for a given txid. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_d_b_af55f35faadeb74b5406559fe3ed20114}{Have\+Coins}} (const \mbox{\hyperlink{classuint256}{uint256}} \&txid) const
\item 
\mbox{\hyperlink{classuint256}{uint256}} \mbox{\hyperlink{class_c_coins_view_d_b_ac9c513a34b9e58d942fdbeafd9e5bbce}{Get\+Best\+Block}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the block hash whose state this \mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} currently represents. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classuint256}{uint256}} \mbox{\hyperlink{class_c_coins_view_d_b_a2bb7d73a96472def92e332a4563a689c}{Get\+Best\+Anchor}} () const
\begin{DoxyCompactList}\small\item\em Get the current \char`\"{}tip\char`\"{} or the latest anchored tree root in the chain. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_c_coins_view_d_b_ab617e4b898f06cec79a2a26fdca9efbd}{Batch\+Write}} (\mbox{\hyperlink{coins_8h_a2886ba2fd0428bae777e1cbcabc02834}{C\+Coins\+Map}} \&map\+Coins, const \mbox{\hyperlink{classuint256}{uint256}} \&hash\+Block, const \mbox{\hyperlink{classuint256}{uint256}} \&hash\+Anchor, \mbox{\hyperlink{coins_8h_a070827cc9d21a91b8f4f4f52a6f7c848}{C\+Anchors\+Map}} \&map\+Anchors, \mbox{\hyperlink{coins_8h_ab651cc287e9594190ef77d2fca2b14c7}{C\+Nullifiers\+Map}} \&map\+Nullifiers)
\item 
bool \mbox{\hyperlink{class_c_coins_view_d_b_a227bf56f8801921f12e56c6839104fce}{Get\+Stats}} (\mbox{\hyperlink{struct_c_coins_stats}{C\+Coins\+Stats}} \&stats) const
\begin{DoxyCompactList}\small\item\em Calculate statistics about the unspent transaction output set. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_coins_view_d_b_a77de349a6beacdf07f0e4aab1bbdecbc}{C\+Coins\+View\+DB}} (std\+::string db\+Name, size\+\_\+t n\+Cache\+Size, bool f\+Memory=false, bool f\+Wipe=false)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_level_d_b_wrapper}{C\+Level\+D\+B\+Wrapper}} \mbox{\hyperlink{class_c_coins_view_d_b_aba0a7b26fe82c1a2e80ca060d12fb66a}{db}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} backed by the Level\+DB coin database (chainstate/) 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_c_coins_view_d_b_a77de349a6beacdf07f0e4aab1bbdecbc}\label{class_c_coins_view_d_b_a77de349a6beacdf07f0e4aab1bbdecbc}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{C\+Coins\+View\+D\+B()}{CCoinsViewDB()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily C\+Coins\+View\+D\+B\+::\+C\+Coins\+View\+DB (\begin{DoxyParamCaption}\item[{std\+::string}]{db\+Name,  }\item[{size\+\_\+t}]{n\+Cache\+Size,  }\item[{bool}]{f\+Memory = {\ttfamily false},  }\item[{bool}]{f\+Wipe = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_coins_view_d_b_a209841b241febcccb2ec584b886ad374}\label{class_c_coins_view_d_b_a209841b241febcccb2ec584b886ad374}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{C\+Coins\+View\+D\+B()}{CCoinsViewDB()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily C\+Coins\+View\+D\+B\+::\+C\+Coins\+View\+DB (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Cache\+Size,  }\item[{bool}]{f\+Memory = {\ttfamily false},  }\item[{bool}]{f\+Wipe = {\ttfamily false} }\end{DoxyParamCaption})}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_c_coins_view_d_b_ab617e4b898f06cec79a2a26fdca9efbd}\label{class_c_coins_view_d_b_ab617e4b898f06cec79a2a26fdca9efbd}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Batch\+Write@{Batch\+Write}}
\index{Batch\+Write@{Batch\+Write}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Batch\+Write()}{BatchWrite()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+D\+B\+::\+Batch\+Write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{coins_8h_a2886ba2fd0428bae777e1cbcabc02834}{C\+Coins\+Map}} \&}]{map\+Coins,  }\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{hash\+Block,  }\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{hash\+Anchor,  }\item[{\mbox{\hyperlink{coins_8h_a070827cc9d21a91b8f4f4f52a6f7c848}{C\+Anchors\+Map}} \&}]{map\+Anchors,  }\item[{\mbox{\hyperlink{coins_8h_ab651cc287e9594190ef77d2fca2b14c7}{C\+Nullifiers\+Map}} \&}]{map\+Nullifiers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Do a bulk modification (multiple \mbox{\hyperlink{class_c_coins}{C\+Coins}} changes + Best\+Block change). The passed map\+Coins can be modified. 

Reimplemented from \mbox{\hyperlink{class_c_coins_view_a6e0ef2f996f5bf9f15c4fcae89333c7d}{C\+Coins\+View}}.



Reimplemented in \mbox{\hyperlink{class_fake_coins_view_d_b_a1108b45f9d165344c7378051e061147b}{Fake\+Coins\+View\+DB}}.

\mbox{\Hypertarget{class_c_coins_view_d_b_aeaab3bc4b363dbbc9d9a77930209e299}\label{class_c_coins_view_d_b_aeaab3bc4b363dbbc9d9a77930209e299}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Get\+Anchor\+At@{Get\+Anchor\+At}}
\index{Get\+Anchor\+At@{Get\+Anchor\+At}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Get\+Anchor\+At()}{GetAnchorAt()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+D\+B\+::\+Get\+Anchor\+At (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{rt,  }\item[{Z\+C\+Incremental\+Merkle\+Tree \&}]{tree }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieve the tree at a particular anchored root in the chain. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_a2fcf3f99111eef1c41243f54f94d3be8}{C\+Coins\+View}}.



Reimplemented in \mbox{\hyperlink{class_fake_coins_view_d_b_ae52d0073bef3eb64bd64b325e821c52b}{Fake\+Coins\+View\+DB}}.

\mbox{\Hypertarget{class_c_coins_view_d_b_a2bb7d73a96472def92e332a4563a689c}\label{class_c_coins_view_d_b_a2bb7d73a96472def92e332a4563a689c}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Get\+Best\+Anchor@{Get\+Best\+Anchor}}
\index{Get\+Best\+Anchor@{Get\+Best\+Anchor}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Get\+Best\+Anchor()}{GetBestAnchor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint256}{uint256}} C\+Coins\+View\+D\+B\+::\+Get\+Best\+Anchor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Get the current \char`\"{}tip\char`\"{} or the latest anchored tree root in the chain. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_a4d51ab1de57e76a174b5ca874c601b52}{C\+Coins\+View}}.



Reimplemented in \mbox{\hyperlink{class_fake_coins_view_d_b_af7870faf849e59188344273a03c9a1b0}{Fake\+Coins\+View\+DB}}.

\mbox{\Hypertarget{class_c_coins_view_d_b_ac9c513a34b9e58d942fdbeafd9e5bbce}\label{class_c_coins_view_d_b_ac9c513a34b9e58d942fdbeafd9e5bbce}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Get\+Best\+Block@{Get\+Best\+Block}}
\index{Get\+Best\+Block@{Get\+Best\+Block}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Get\+Best\+Block()}{GetBestBlock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classuint256}{uint256}} C\+Coins\+View\+D\+B\+::\+Get\+Best\+Block (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieve the block hash whose state this \mbox{\hyperlink{class_c_coins_view}{C\+Coins\+View}} currently represents. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_af81f2907d360a2548d59a61388e5e5cb}{C\+Coins\+View}}.



Reimplemented in \mbox{\hyperlink{class_fake_coins_view_d_b_a36231d924114fbe51a830c9c235c50ad}{Fake\+Coins\+View\+DB}}.

\mbox{\Hypertarget{class_c_coins_view_d_b_ac35a80d1115ec697101d382e71db5b31}\label{class_c_coins_view_d_b_ac35a80d1115ec697101d382e71db5b31}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Get\+Coins@{Get\+Coins}}
\index{Get\+Coins@{Get\+Coins}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Get\+Coins()}{GetCoins()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+D\+B\+::\+Get\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid,  }\item[{\mbox{\hyperlink{class_c_coins}{C\+Coins}} \&}]{coins }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieve the \mbox{\hyperlink{class_c_coins}{C\+Coins}} (unspent transaction outputs) for a given txid. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_a67d865358127bef1f0011a23d5158a9f}{C\+Coins\+View}}.

\mbox{\Hypertarget{class_c_coins_view_d_b_ac9724829164f5a06b6d7c610da03a730}\label{class_c_coins_view_d_b_ac9724829164f5a06b6d7c610da03a730}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Get\+Nullifier@{Get\+Nullifier}}
\index{Get\+Nullifier@{Get\+Nullifier}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Get\+Nullifier()}{GetNullifier()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+D\+B\+::\+Get\+Nullifier (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{nullifier }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Determine whether a nullifier is spent or not. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_a45a7abe02d0d9d1b61a09dec70a3311f}{C\+Coins\+View}}.



Reimplemented in \mbox{\hyperlink{class_fake_coins_view_d_b_af7d0ce4926fb03ee632148c5fde66c05}{Fake\+Coins\+View\+DB}}.

\mbox{\Hypertarget{class_c_coins_view_d_b_a227bf56f8801921f12e56c6839104fce}\label{class_c_coins_view_d_b_a227bf56f8801921f12e56c6839104fce}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Get\+Stats@{Get\+Stats}}
\index{Get\+Stats@{Get\+Stats}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Get\+Stats()}{GetStats()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+D\+B\+::\+Get\+Stats (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_c_coins_stats}{C\+Coins\+Stats}} \&}]{stats }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Calculate statistics about the unspent transaction output set. 



Reimplemented from \mbox{\hyperlink{class_c_coins_view_adbd7f73ba071c6e441dd88d95b8f2c0d}{C\+Coins\+View}}.



Reimplemented in \mbox{\hyperlink{class_fake_coins_view_d_b_ad1deefbe955925e274e5d50d289275e9}{Fake\+Coins\+View\+DB}}.

\mbox{\Hypertarget{class_c_coins_view_d_b_af55f35faadeb74b5406559fe3ed20114}\label{class_c_coins_view_d_b_af55f35faadeb74b5406559fe3ed20114}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!Have\+Coins@{Have\+Coins}}
\index{Have\+Coins@{Have\+Coins}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{Have\+Coins()}{HaveCoins()}}
{\footnotesize\ttfamily bool C\+Coins\+View\+D\+B\+::\+Have\+Coins (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classuint256}{uint256}} \&}]{txid }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Just check whether we have data for a given txid. This may (but cannot always) return true for fully spent transactions 

Reimplemented from \mbox{\hyperlink{class_c_coins_view_ade3a65fc3f1b02baf7bebce630e4eba3}{C\+Coins\+View}}.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_c_coins_view_d_b_aba0a7b26fe82c1a2e80ca060d12fb66a}\label{class_c_coins_view_d_b_aba0a7b26fe82c1a2e80ca060d12fb66a}} 
\index{C\+Coins\+View\+DB@{C\+Coins\+View\+DB}!db@{db}}
\index{db@{db}!C\+Coins\+View\+DB@{C\+Coins\+View\+DB}}
\subsubsection{\texorpdfstring{db}{db}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_level_d_b_wrapper}{C\+Level\+D\+B\+Wrapper}} C\+Coins\+View\+D\+B\+::db\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/christopherarguello/\+Developer/anon/src/\mbox{\hyperlink{txdb_8h}{txdb.\+h}}\item 
/\+Users/christopherarguello/\+Developer/anon/src/\mbox{\hyperlink{txdb_8cpp}{txdb.\+cpp}}\end{DoxyCompactItemize}
